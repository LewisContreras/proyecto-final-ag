(this["webpackJsonpproyecto-final-ag"]=this["webpackJsonpproyecto-final-ag"]||[]).push([[0],{116:function(e,t,n){},209:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(69),c=n.n(r),o=n(341),i=n(87),s=n(162),l=n(7),d={login:"[Auth] Login",logout:"[Auth] Logout",uiSetError:"[ui] Set Error",uiRemoveError:"[ui] Remove Error",uiStartLoading:"[UI] Start Loading",uiFinishLoading:"[UI] Finish Loading",petAddNew:"[Pets] New Pet",petActive:"[Pets] Set Active Pet",petLoad:"[Pets] Load Pets",myPetLoad:"[Pets] Load My Pets",petUpdated:"[Pets] Updated Pet",petFileUrl:"[Pets] Updated Image URL",petDelete:"[Pets] Delete Pet",petLogoutCleaning:"[Pets] Logout Cleaning",petSearchInfo:"[PET] Search Info",petDetail:"[PET] Detail view",petLast:"[PET] Last Doc Pet"},u={info:[],detail:null,last:null},p=n(14),j={pets:[],myPets:[],active:null},h="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,b=Object(i.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.login:return{uid:t.payload.uid,name:t.payload.displayName};case d.logout:return{};default:return e}},pets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.petAddNew:return Object(l.a)(Object(l.a)({},e),{},{pets:[t.payload].concat(Object(p.a)(e.pets))});case d.petLoad:return Object(l.a)(Object(l.a)({},e),{},{pets:Object(p.a)(t.payload)});case d.myPetLoad:return Object(l.a)(Object(l.a)({},e),{},{myPets:Object(p.a)(t.payload)});case d.petDelete:return Object(l.a)(Object(l.a)({},e),{},{pets:e.pets.filter((function(e){return e.id!==t.payload}))});case d.petActive:return Object(l.a)(Object(l.a)({},e),{},{active:Object(l.a)({},t.payload)});case d.petValoracion:return Object(l.a)(Object(l.a)({},e),{},{valoracion:t.payload});case d.petUpdated:return Object(l.a)(Object(l.a)({},e),{},{pets:e.pets.map((function(e){return e.id===t.payload.id?t.payload.pets:e}))});default:return e}},petsInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.petSearchInfo:return Object(l.a)(Object(l.a)({},e),{},{info:t.payload});case d.petDetail:return Object(l.a)(Object(l.a)({},e),{},{detail:t.payload});case d.petLast:return Object(l.a)(Object(l.a)({},e),{},{last:t.payload});default:return e}}}),x=Object(i.d)(b,h(Object(i.a)(s.a))),O=n(15),g=n(11),f=n.n(g),m=n(23),v=n(6),w=n(19),y=n(18),C=n(82);n(310),n(193);C.a.initializeApp({apiKey:"AIzaSyCgsrjF18DOmeDBHbd9wBkbxpqRHJu7L-w",authDomain:"bd-find-pet.firebaseapp.com",projectId:"bd-find-pet",storageBucket:"bd-find-pet.appspot.com",messagingSenderId:"649767277617",appId:"1:649767277617:web:09884fa40e950156a8b110"});var k=C.a.firestore(),S=new C.a.auth.GoogleAuthProvider,_=n(39),N=n.n(_),D=function(e,t){return{type:d.login,payload:{uid:e,displayName:t}}},R=function(){return{type:d.logout}},A=n(322),E=n(323),P=n(324),z=n(343),I=n(342),L=n(175),M=n(165),W=n(3),q=function(){var e=Object(O.b)();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(L.a,{}),Object(W.jsx)(A.a,{height:"100vh",alignItems:"center",justifyContent:"center",background:"#d8f8b7",children:Object(W.jsxs)(A.a,{direction:"column",alignItems:"center",justifyContent:"center",background:"#a3d2ca",p:12,rounded:6,children:[Object(W.jsx)(E.a,{mt:20,mb:25,children:"Log In PetFind"}),Object(W.jsx)(P.a,{children:Object(W.jsx)(z.a,{rounded:100,boxSize:"200px",src:"https://image.freepik.com/vector-gratis/lindo-perro-gato-amigo-caricatura_138676-2432.jpg",alt:"Logo FindPet"})}),Object(W.jsx)(I.a,{leftIcon:Object(W.jsx)(M.a,{}),mt:20,mb:20,colorScheme:"teal",variant:"outline",onClick:function(t){e((function(e){C.a.auth().signInWithPopup(S).then((function(t){var n=t.user;e(D(n.uid,n.displayName))})).catch((function(e){N.a.fire({icon:"error",title:"Error",text:"No seleccion\xf3 ninguna cuenta de Google!",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}})}))}))},children:"Iniciar Sesion con Google"})]})})]})},F=function(){return Object(W.jsx)("div",{className:"auth__main",children:Object(W.jsx)("div",{className:"auth__box-container",children:Object(W.jsxs)(y.d,{children:[Object(W.jsx)(y.b,{exact:!0,path:"/auth/login",component:q}),Object(W.jsx)(y.a,{to:"/auth/login"})]})})})},H=n(49),B=function(e){var t=e.isAuthenticated,n=e.component,a=Object(H.a)(e,["isAuthenticated","component"]);return Object(W.jsx)(y.b,Object(l.a)(Object(l.a)({},a),{},{component:function(e){return t?Object(W.jsx)(y.a,{to:"/"}):Object(W.jsx)(n,Object(l.a)({},e))}}))},U=function(e){var t=e.isAuthenticated,n=e.component,a=Object(H.a)(e,["isAuthenticated","component"]);return Object(W.jsx)(y.b,Object(l.a)(Object(l.a)({},a),{},{component:function(e){return t?Object(W.jsx)(n,Object(l.a)({},e)):Object(W.jsx)(y.a,{to:"/auth/login"})}}))},T=n(326),V=n(344);var $=function(){return Object(W.jsx)(A.a,{fontWeight:"500",maxWidth:"80%",color:"#33A109",borderRadius:"10px",backgroundColor:"white",padding:2,alignSelf:"flex-start",children:"Hola, c\xf3mo est\xe1s? puedo preguntar algo?"})};var G=function(){return Object(W.jsx)(A.a,{maxWidth:"80%",color:"white",borderRadius:"10px",backgroundColor:"#33A109",padding:2,alignSelf:"flex-end",children:"Hola, c\xf3mo est\xe1s? puedo preguntar algo?"})};var J=function(){return Object(W.jsxs)(V.b,{spacing:4,padding:4,minHeight:"80vh",backgroundColor:"#77D353",children:[Object(W.jsx)(G,{}),Object(W.jsx)($,{}),Object(W.jsx)(T.a,{position:"fixed",backgroundColor:"white",type:"text",height:"50px",color:"black",bottom:"20px",width:"90%"})]})},K=n(329),Z=n(327),X=n(328),Y=n(20);var Q=function(){var e=Object(y.g)();return Object(W.jsxs)(Z.a,{flexDirection:"column",position:"relative",bg:"#33A109",height:"20vh",children:[Object(W.jsx)(P.a,{backgroundImage:"url('https://www.nicepng.com/png/detail/202-2022264_usuario-annimo-usuario-annimo-user-icon-png-transparent.png')",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",borderRadius:"50%",width:"64px",height:"64px"}),Object(W.jsx)(X.a,{fontWeight:"600",mt:2,color:"white",children:"Contacto"}),Object(W.jsx)(K.b,{onClick:function(){return e.goBack()},fontSize:"30px",color:"white",position:"absolute",cursor:"pointer",top:"calc(50%-30px)",left:8,as:Y.a})]})};var ee=function(){return Object(W.jsxs)(P.a,{children:[Object(W.jsx)(Q,{}),Object(W.jsx)(J,{})]})};var te=function(){return Object(W.jsx)(Z.a,{cursor:"pointer",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},height:"40px",width:"40px",borderRadius:"20px",backgroundColor:"black",zIndex:"10",position:"fixed",bottom:"70px",right:"20px",children:Object(W.jsx)(K.b,{color:"white",fontSize:20,as:Y.b})})},ne=n(331),ae=(n(116),n(74)),re=n.n(ae);var ce=function(e){var t=e.pet;return Object(W.jsxs)(P.a,{border:"2px solid #77D353",className:"scene_element scene_element--fadeinup",borderRadius:"6px",boxShadow:"lg",overflow:"hidden",width:"160px",backgroundColor:"#77D353",children:[Object(W.jsx)(z.a,{width:"100%",height:"180px",src:t.url}),Object(W.jsxs)(V.b,{px:"3px",my:"10px",alignItems:"start",children:[Object(W.jsxs)(V.a,{justifyContent:"space-evenly",children:[t.reward?Object(W.jsx)(P.a,{width:"max-content",borderRadius:"20px",py:"3px",px:"8px",bgColor:"yellow.300",fontWeight:"600",color:"white",textDecoration:"none",children:Object(W.jsx)(re.a,{options:{strings:["".concat(t.state),"$ ".concat(t.reward)],autoStart:!0,loop:!0}})}):Object(W.jsx)(X.a,{width:"max-content",borderRadius:"20px",py:"3px",px:"8px",bgColor:"yellow.300",fontWeight:"600",color:"white",textDecoration:"none",children:t.state}),t.reward?Object(W.jsx)(Z.a,{fontWeight:"700",border:"1px solid black",borderRadius:"27px",px:"5px",h:"27px",color:"black",fontSize:"xl",bgColor:"gold",children:"$"}):null]}),Object(W.jsxs)(X.a,{fontSize:"18px",color:"blackAlpha.700",fontWeight:"700",children:["Nombre: ",Object(W.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:t.name})]}),Object(W.jsxs)(X.a,{fontSize:"18px",color:"blackAlpha.700",fontWeight:"700",children:["Direcci\xf3n: ",Object(W.jsx)(X.a,{color:"white",fontWeight:"400",as:"span"})]})]})]})},oe=n(330),ie=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,k.collection("Data/pets/pet").orderBy("date").get().then((function(e){e.forEach((function(e){t.push(Object(l.a)({id:e.id},e.data()))}))})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(e){return{type:d.petSearchInfo,payload:e}};var le=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.petsInfo.info}));return Object(W.jsx)(oe.a,{pt:"80px",mb:"80px",templateColumns:"repeat(auto-fill,160px)",gap:"10px",justifyContent:"space-evenly",mt:"20px",width:["100%","90%"],mx:"auto",pb:"20px",children:t.length?t.map((function(t,n){return Object(W.jsx)(ne.a,{display:"inline-block",_hover:{textDecoration:"none",transform:"scale(1.03)"},textDecoration:"none",as:w.b,to:"/detail/".concat(t.id),onClick:function(){return e({type:d.petDetail,payload:t})},children:Object(W.jsx)(ce,{id:n,pet:t})},n)})):null})};n(209);var de=function(){return Object(W.jsxs)(V.a,{px:"5%",justifyContent:"space-between",bgColor:"brand.primary",zIndex:"20",position:"fixed",bottom:"0",w:"100vw",h:"60px",children:[Object(W.jsx)(w.c,{exact:!0,to:"/post",children:Object(W.jsx)(K.a,{fontSize:"28px",as:Y.h})}),Object(W.jsx)(w.c,{exact:!0,to:"/my-pets",children:Object(W.jsx)(K.a,{fontSize:"28px",as:Y.c})}),Object(W.jsx)(w.c,{exact:!0,to:"/map",children:Object(W.jsx)(K.a,{fontSize:"28px",as:Y.f})})]})},ue=n(332),pe=n(333),je=n(166);var he=function(){var e=Object(O.b)();return Object(W.jsxs)(V.a,{id:"header-main-page",px:"5%",spacing:8,backgroundColor:"#33A109",height:"80px",position:"fixed",zIndex:"20",top:"0",left:"0",right:"0",children:[Object(W.jsx)(K.b,{fontSize:20,color:"white",as:Y.g}),Object(W.jsxs)(ue.a,{children:[Object(W.jsx)(pe.a,{pointerEvents:"none",color:"black",children:Object(W.jsx)(Y.i,{})}),Object(W.jsx)(T.a,{borderRadius:"10px 0 0 10px",type:"text",placeholder:"Search",color:"black",backgroundColor:"white"}),Object(W.jsx)(I.a,{borderRadius:"0 10px 10px 0",bgColor:"#237006",children:"Buscar"})]}),Object(W.jsx)(K.b,{onClick:function(){e(function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.auth().signOut();case 2:t(R());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fontSize:"28px",color:"white",as:je.a})]})};var be=function(){var e=Object(a.useRef)(!1),t=Object(O.b)(),n=Object(O.c)((function(e){return e.auth.uid})),r=function(e){document.scrollingElement.scrollTop,document.scrollingElement.scrollHeight,document.scrollingElement.clientHeight};return Object(a.useEffect)((function(){return window.addEventListener("scroll",r),e.current||(t(function(){var e=Object(m.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:a=e.sent,t(se(Object(p.a)(a)));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.current=!0),function(){window.removeEventListener("scroll",r)}}),[n]),Object(W.jsxs)(P.a,{children:[Object(W.jsx)(he,{}),Object(W.jsx)(de,{}),Object(W.jsx)(le,{}),Object(W.jsx)(te,{})]})};var xe=function(){var e=Object(O.c)((function(e){return e.petsInfo.detail})),t=Object(y.g)();return Object(W.jsx)(P.a,{display:"flex",width:["100vw","100vw","60vw"],position:"relative",backgroundImage:"url(".concat(e.url,")"),height:["50vh","50vh","100vh"],backgroundPosition:"center",backgroundRepeat:"repeat",backgroundSize:"cover",children:Object(W.jsx)(Z.a,{onClick:function(){return t.goBack()},cursor:"pointer",boxSize:10,borderRadius:"50%",backgroundColor:"#33A109",position:"absolute",top:"20px",left:"20px",children:Object(W.jsx)(K.b,{color:"white",as:Y.a})})})};var Oe=function(){var e=Object(O.c)((function(e){return e.petsInfo.detail}));return Object(W.jsxs)(P.a,{position:"relative",width:["100vw","100vw","40vw"],children:[Object(W.jsx)(P.a,{position:"absolute",display:["block","block","none"],top:"-12",right:"0",w:"100vw",dangerouslySetInnerHTML:{__html:'<div style="height: 80px; overflow: hidden;" ><svg viewBox="0 0 500 150" preserveAspectRatio="none" style="height: 100%; width: 100%;"><path d="M0.00,49.98 C149.99,150.00 349.20,-49.98 500.00,49.98 L500.00,150.00 L0.00,150.00 Z" style="stroke: none; fill: #77D353;"></path></svg></div>'},height:"150px",overflow:"hidden"}),Object(W.jsx)(P.a,{position:"absolute",display:["none","none","block"],right:["0","0","180","280"],w:["40vw","40vw","40vw","40vw"],dangerouslySetInnerHTML:{__html:'<div style="height: 100vh; overflow: hidden;" ><svg viewBox="0 0 500 150" preserveAspectRatio="none" style="height: 100%; width: 100%;"><path d="M213.19,0.00 C152.69,70.06 270.03,70.06 202.98,150.00 L500.00,150.00 L500.00,0.00 Z" style="stroke: none; fill: #77D353;"></path></svg></div>'},overflow:"hidden"}),Object(W.jsxs)(P.a,{px:6,pb:"70px",position:"relative",minHeight:["50vh","50vh","100vh"],backgroundColor:"#77D353",children:[Object(W.jsx)(I.a,{onClick:function(){return function(){var e=document.createElement("input");e.setAttribute("value",window.location.href.split("?")[0].split("#")[0]),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}()},position:"absolute",display:"none",top:"-10px",right:"20px",color:"white",backgroundColor:"#33A109",rightIcon:Object(W.jsx)(Y.j,{color:"white"}),children:"Compartir"}),Object(W.jsxs)(V.b,{alignItems:"start",children:[Object(W.jsxs)(V.a,{mt:"10px",mb:"20px",justifyContent:"space-between",children:[Object(W.jsx)(P.a,{fontWeight:"600",borderRadius:"34px",px:"10px",h:"34px",fontSize:"xl",bgColor:"yellow.400",color:"white",children:"Desaparecido"}),e.reward?Object(W.jsx)(Z.a,{fontWeight:"700",border:"3px solid black",borderRadius:"34px",px:"10px",h:"34px",color:"black",fontSize:"xl",bgColor:"gold",children:"$ Recompensa"}):null]}),Object(W.jsxs)(X.a,{fontSize:"2xl",color:"blackAlpha.700",fontWeight:"700",children:["Nombre: ",Object(W.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:e.name})]}),Object(W.jsxs)(X.a,{fontSize:"2xl",color:"blackAlpha.700",fontWeight:"700",children:["Edad: ",Object(W.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:"".concat(e.age," a\xf1os")})]}),Object(W.jsxs)(X.a,{fontSize:"2xl",color:"blackAlpha.700",fontWeight:"700",children:["Color: ",Object(W.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:e.color})]}),Object(W.jsxs)(X.a,{fontSize:"2xl",color:"blackAlpha.700",fontWeight:"700",children:["Descripci\xf3n: ",Object(W.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:e.desc_pet})]}),e.reward?Object(W.jsxs)(P.a,{children:[Object(W.jsxs)(X.a,{fontSize:"2xl",color:"blackAlpha.700",fontWeight:"700",children:["Recompensa: ",Object(W.jsx)(X.a,{color:"black",fontWeight:"00",as:"span",children:"$ ".concat(e.reward)})]}),Object(W.jsxs)(X.a,{fontSize:"2xl",color:"blackAlpha.700",fontWeight:"700",children:["Detalles: ",Object(W.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:e.desc_reward})]})]}):null]}),Object(W.jsxs)(V.a,{bgColor:"#77D353",height:"60px",position:["fixed","fixed","absolute"],bottom:"0",left:"0",right:"0",px:"20px",justifyContent:"space-between",mt:4,children:[Object(W.jsx)(K.b,{fontSize:30,color:"white",as:Y.k}),Object(W.jsx)(ne.a,{to:"/chat",as:w.b,children:Object(W.jsx)(I.a,{color:"white",backgroundColor:"#33A109",children:"Contactar"})})]})]})]})};var ge=function(){return window.scrollTo({top:0,behavior:"smooth"}),Object(W.jsxs)(P.a,{className:"scene_element scene_element--clippathdown",display:["block","block","flex"],flexDirection:["column","column","row"],children:[Object(W.jsx)(xe,{}),Object(W.jsx)(Oe,{})]})};var fe=function(){return Object(W.jsx)(V.a,{top:"0",width:"100%",padding:6,height:"60px",backgroundColor:"#33A109",children:Object(W.jsx)(ne.a,{to:"/",as:w.b,children:Object(W.jsx)(K.b,{fontSize:30,color:"white",as:Y.e})})})},me=n(334),ve=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("Data/pets/pet").orderBy("name").get();case 2:return n=e.sent,a=[],n.forEach((function(e){a.push(Object(l.a)({id:e.id},e.data()))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("Data/pets/pet").where("id_user","==","".concat(t)).get();case 2:return n=e.sent,a=[],n.forEach((function(e){a.push(Object(l.a)({id:e.id},e.data()))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/dwebgvcn6/image/upload",(n=new FormData).append("upload_preset","FindPet"),n.append("file",t),e.prev=4,e.next=7,fetch("https://api.cloudinary.com/v1_1/dwebgvcn6/image/upload",{method:"POST",body:n});case 7:if(!(a=e.sent).ok){e.next=15;break}return e.next=11,a.json();case 11:return r=e.sent,e.abrupt("return",r.secure_url);case 15:return e.next=17,a.json();case 17:throw e.sent;case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(4),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(e,t){return{type:d.petAddNew,payload:Object(l.a)({id:e},t)}},ke=function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,we(e);case 2:a=t.sent,n(_e(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Se=function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve(e);case 2:a=t.sent,n(Ne(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_e=function(e){return{type:d.myPetLoad,payload:e}},Ne=function(e){return{type:d.petLoad,payload:e}},De=function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n,a){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N.a.fire({title:"Subiendo Foto...",text:"Por Favor Espere...",allowOutsideClick:!1,onBeforeOpen:function(){N.a.showLoading()}}),t.next=3,ye(e);case 3:return r=t.sent,N.a.close(),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Re=function(e){return{type:d.petDelete,payload:e}};var Ae=function(){for(var e=Object(O.b)(),t=Object(O.c)((function(e){return e.pets})).myPets,n=Object(a.useState)(1),r=Object(v.a)(n,2),c=r[0],o=r[1],i=t.slice(4*(c-1),4*c),s=!1,u=!1,p=Math.ceil(t.length/4),j=[],h=1;h<=p;h++)h===c||h<2||h>p-1||h===c-1||h===c+1?j.push({id:h,ellipsis:!1}):h>1&&h<c&&!s?(j.push({id:h,ellipsis:!0}),s=!0):h<p&&h>c&&!u&&(j.push({id:h,ellipsis:!0}),u=!0);var b=function(t,n){e(function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n,a){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.uid,t.next=3,k.doc("Data/pets/pet/".concat(e)).delete();case 3:n(Re(e)),N.a.fire({position:"center",icon:"success",title:"Registro Eliminado",showConfirmButton:!1,timer:1500}),n(Se(r)),n(ke(r));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(n))},x=function(t,n){var a,r;e((a=n.id,r=Object(l.a)({},n),{type:d.petActive,payload:Object(l.a)({id:a},r)}))};return Object(W.jsxs)("div",{className:"scene_element scene_element--fadeinright",children:[Object(W.jsx)(fe,{}),Object(W.jsx)(Z.a,{flexDirection:"column",pt:"10px",backgroundColor:"#77D353",minHeight:"93vh",children:Object(W.jsxs)("div",{className:"lista-peliculas col-md-8 mx-auto text-center",children:[Object(W.jsx)(me.a,{}),Object(W.jsx)(P.a,{textStyle:"h1",children:Object(W.jsx)(re.a,{options:{strings:["Administrar Mascotas Reportadas"],autoStart:!0,loop:!0}})}),Object(W.jsx)(me.a,{}),Object(W.jsxs)("table",{className:"table mt-5",children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Nombre"}),Object(W.jsx)("th",{children:"Estado"}),Object(W.jsx)("th",{children:"Imagen"}),Object(W.jsx)("th",{children:"Acciones"})]})}),Object(W.jsx)("tbody",{children:i.map((function(e){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{valign:"middle",children:e.name}),Object(W.jsx)("td",{valign:"middle",children:e.state}),Object(W.jsx)("td",{valign:"middle",children:Object(W.jsx)("img",{src:e.url,alt:"Img",style:{height:"70px"}})}),Object(W.jsx)("td",{valign:"middle",children:Object(W.jsxs)("div",{className:"col",children:[Object(W.jsx)("span",{className:"btn btn-danger me-2","aria-hidden":"true",onClick:function(t){b(0,e.id)},style:{cursor:"pointer"},children:"\xd7"}),Object(W.jsx)(w.b,{to:"/my-pets/".concat(e.name),children:Object(W.jsx)("span",{className:"btn btn-primary","aria-hidden":"true",onClick:function(t){x(0,e)},style:{cursor:"pointer"},children:Object(W.jsx)(Y.d,{})})})]})})]},e.id)}))})]}),Object(W.jsx)("nav",{className:"navigation",children:Object(W.jsx)("ul",{className:"pagination justify-content-center",children:j.map((function(e){return e.ellipsis?Object(W.jsx)("li",{children:Object(W.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})},e.id):Object(W.jsx)("li",{className:"page-item",children:Object(W.jsx)("a",{href:"/#",className:"page-link",onClick:function(t){return function(e,t){e.preventDefault(),o(t)}(t,e.id)},children:e.id})},e.id)}))})})]})})]})},Ee=n(336),Pe=n(85),ze=n(335),Ie=n(110),Le=n(29);var Me=function(){var e=Object(O.b)(),t=Object(y.g)(),n=Object(Ie.a)({initialValues:{name:"",age:"",color:"",reward:"",desc_reward:"",desc_pet:"",latitude:"",longitude:"",url_pet:""},validationSchema:Le.b({name:Le.c().required("Nombre Requerido"),age:Le.a().required("Edad Requerida"),color:Le.c().required("Color Requerido"),desc_pet:Le.c().required("Desdcripci\xf3n de la Mascota Requerida"),latitude:Le.c().required("Por favor presione Obtener Ubicacion"),url_pet:Le.c().required("Por favor cargue una imagen de la mascota")}),onSubmit:function(t){var r;e((r=t,function(){var e=Object(m.a)(f.a.mark((function e(t,n){var a,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().auth.uid,c={name:r.name,age:r.age,color:r.color,reward:r.reward,desc_reward:r.desc_reward,desc_pet:r.desc_pet,latitude:r.latitude,longitude:r.longitude,url:r.url_pet,id_user:a,state:"Desaparecido"},e.next=4,k.collection("Data/pets/pet").add(c);case 4:o=e.sent,t(ke(a)),t(Se(a)),t(Ce(o.id,c));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),N.a.fire({position:"center",icon:"success",title:"Your work has been saved",showConfirmButton:!1,allowEscapeKey:!1,allowOutsideClick:!1,timer:1500}),n.handleReset(),setTimeout(a,2e3)}}),a=function(){t.push("/")};return Object(W.jsx)("div",{className:"scene_element scene_element--fadeinright",children:Object(W.jsx)("form",{onSubmit:n.handleSubmit,children:Object(W.jsxs)(Z.a,{flexDirection:"column",pt:"10px",px:6,backgroundColor:"#77D353",minHeight:"100vh",children:[Object(W.jsx)(me.a,{}),Object(W.jsx)(P.a,{textStyle:"h1",children:Object(W.jsx)(re.a,{options:{strings:["Reportar Mascota"],autoStart:!0,loop:!0}})}),Object(W.jsx)(me.a,{}),Object(W.jsxs)(Pe.a,{mt:4,children:[Object(W.jsx)(ze.a,{children:"Nombre de la Mascota"}),Object(W.jsx)(T.a,{type:"text",placeholder:"Nombre de la Mascota",name:"name",id:"name",value:n.values.name,onChange:n.handleChange}),n.errors.name?Object(W.jsx)("div",{className:"text-danger",children:n.errors.name}):null]}),Object(W.jsxs)(Pe.a,{children:[Object(W.jsx)(ze.a,{children:"Edad de la Mascota"}),Object(W.jsx)(T.a,{type:"number",placeholder:"Edad de la Mascota",name:"age",id:"age",value:n.values.age,onChange:n.handleChange}),n.errors.age?Object(W.jsx)("div",{className:"text-danger",children:n.errors.age}):null]}),Object(W.jsxs)(Pe.a,{children:[Object(W.jsx)(ze.a,{children:"Color de la Mascota"}),Object(W.jsx)(T.a,{type:"text",placeholder:"Color de la Mascota",name:"color",id:"color",value:n.values.color,onChange:n.handleChange}),n.errors.color?Object(W.jsx)("div",{className:"text-danger",children:n.errors.color}):null]}),Object(W.jsxs)(Pe.a,{className:"mb-4",children:[Object(W.jsx)(ze.a,{children:"Recompensa"}),Object(W.jsx)(T.a,{type:"number",placeholder:"Valor Recompensa",name:"reward",id:"reward",value:n.values.reward,onChange:n.handleChange})]}),Object(W.jsx)(Ee.a,{className:"mb-4",height:"150px",id:"desc_reward",name:"desc_reward",backgroundColor:"white",color:"black",placeholder:"Descripci\xf3n de la Recompensa",value:n.values.desc_reward,onChange:n.handleChange}),Object(W.jsx)(Ee.a,{height:"300px",id:"desc_pet",name:"desc_pet",backgroundColor:"white",color:"black",placeholder:"Descripci\xf3n de la Mascota",value:n.values.desc_pet,onChange:n.handleChange}),n.errors.desc_pet?Object(W.jsx)("div",{className:"text-danger",children:n.errors.desc_pet}):null,Object(W.jsx)(I.a,{mt:4,colorScheme:"teal",type:"button",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;n.values.latitude=t,n.values.longitude=a}))},children:"Obtener Mi Ubicacion"}),n.errors.latitude?Object(W.jsx)("div",{className:"text-danger",children:n.errors.latitude}):null,Object(W.jsx)(T.a,{name:"latitude",id:"latitude",type:"text",hidden:!0}),Object(W.jsx)(T.a,{name:"longitude",id:"longitude",type:"text",hidden:!0}),Object(W.jsx)(I.a,{mt:4,colorScheme:"teal",type:"button",onClick:function(){document.querySelector("#url_pet").click()},children:"Agregar Imagen de la Mascota"}),Object(W.jsx)(T.a,{id:"url_pet",type:"file",name:"url_pet",style:{display:"none"},onChange:function(t){var a=t.target.files[0];e(De(a)).then((function(e){n.values.url_pet=e}))}}),n.errors.url_pet?Object(W.jsx)("div",{className:"text-danger",children:n.errors.url_pet}):null,Object(W.jsx)(I.a,{mt:4,colorScheme:"teal",type:"submit",mb:2,children:"Reportar Mascota"})]})})})};var We=function(){return Object(W.jsxs)(P.a,{children:[Object(W.jsx)(fe,{}),Object(W.jsx)(Me,{})]})};var qe=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.pets})).active,n=(Object(y.g)(),Object(Ie.a)({initialValues:{id:t.id,name:t.name,age:t.age,color:t.color,reward:t.reward,desc_reward:t.desc_reward,desc_pet:t.desc_pet,latitude:t.latitude,longitude:t.longitude,url:t.url,state:t.state},validationSchema:Le.b({name:Le.c().required("Nombre Requerido"),age:Le.a().required("Edad Requerida"),color:Le.c().required("Color Requerido"),desc_pet:Le.c().required("Desdcripci\xf3n de la Mascota Requerida"),state:Le.c().required("Estado de la Mascota Requerido"),latitude:Le.c().required("Por favor presione Obtener Ubicacion"),url:Le.c().required("Por favor cargue una imagen de la mascota")}),onSubmit:function(t){var n;e((n=t,function(){var e=Object(m.a)(f.a.mark((function e(t,a){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.uid,delete(c=Object(l.a)({},n)).id,e.next=5,k.doc("Data/pets/pet/".concat(n.id)).update(c);case 5:N.a.fire({position:"center",icon:"success",allowOutsideClick:!1,title:"Los cambios se han guardado",showConfirmButton:!1,timer:1e3}),t(Se(r)),t(ke(r));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),N.a.fire({position:"center",icon:"success",title:"Your work has been saved",showConfirmButton:!1,allowEscapeKey:!1,allowOutsideClick:!1,timer:1500})}}));return Object(W.jsxs)("div",{className:"scene_element scene_element--fadeinup",children:[Object(W.jsx)(V.a,{top:"0",width:"100%",padding:6,height:"60px",backgroundColor:"#33A109",children:Object(W.jsx)(ne.a,{to:"/my-pets",as:w.b,children:Object(W.jsx)(K.b,{fontSize:30,color:"white",as:Y.a})})}),Object(W.jsx)("form",{onSubmit:n.handleSubmit,children:Object(W.jsxs)(Z.a,{flexDirection:"column",pt:"10px",px:6,backgroundColor:"#77D353",minHeight:"100vh",children:[Object(W.jsxs)(Pe.a,{children:[Object(W.jsx)(ze.a,{children:"Nombre de la Mascota"}),Object(W.jsx)(T.a,{type:"text",placeholder:"Nombre de la Mascota",name:"name",id:"name",value:n.values.name,onChange:n.handleChange}),n.errors.name?Object(W.jsx)("div",{className:"text-danger",children:n.errors.name}):null]}),Object(W.jsxs)(Pe.a,{children:[Object(W.jsx)(ze.a,{children:"Edad de la Mascota"}),Object(W.jsx)(T.a,{type:"number",placeholder:"Edad de la Mascota",name:"age",id:"age",value:n.values.age,onChange:n.handleChange}),n.errors.age?Object(W.jsx)("div",{className:"text-danger",children:n.errors.age}):null]}),Object(W.jsxs)(Pe.a,{children:[Object(W.jsx)(ze.a,{children:"Color de la Mascota"}),Object(W.jsx)(T.a,{type:"text",placeholder:"Color de la Mascota",name:"color",id:"color",value:n.values.color,onChange:n.handleChange}),n.errors.color?Object(W.jsx)("div",{className:"text-danger",children:n.errors.color}):null]}),Object(W.jsxs)(Pe.a,{children:[Object(W.jsx)(ze.a,{children:"Estado"}),Object(W.jsx)(T.a,{type:"text",placeholder:"Estado de la Mascota",name:"state",id:"state",value:n.values.state,onChange:n.handleChange}),n.errors.state?Object(W.jsx)("div",{className:"text-danger",children:n.errors.state}):null]}),Object(W.jsxs)(Pe.a,{className:"mb-4",children:[Object(W.jsx)(ze.a,{children:"Recompensa"}),Object(W.jsx)(T.a,{type:"number",placeholder:"Valor Recompensa",name:"reward",id:"reward",value:n.values.reward,onChange:n.handleChange})]}),Object(W.jsx)(Ee.a,{className:"mb-4",height:"150px",id:"desc_reward",name:"desc_reward",backgroundColor:"white",color:"black",placeholder:"Descripci\xf3n de la Recompensa",value:n.values.desc_reward,onChange:n.handleChange}),Object(W.jsx)(Ee.a,{height:"300px",id:"desc_pet",name:"desc_pet",backgroundColor:"white",color:"black",placeholder:"Descripci\xf3n de la Mascota",value:n.values.desc_pet,onChange:n.handleChange}),n.errors.desc_pet?Object(W.jsx)("div",{className:"text-danger",children:n.errors.desc_pet}):null,Object(W.jsx)(I.a,{mt:4,colorScheme:"teal",type:"button",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;n.values.latitude=t,n.values.longitude=a}))},children:"Obtener Mi Ubicacion"}),n.errors.latitude?Object(W.jsx)("div",{className:"text-danger",children:n.errors.latitude}):null,Object(W.jsx)(T.a,{name:"latitude",id:"latitude",type:"text",hidden:!0}),Object(W.jsx)(T.a,{name:"longitude",id:"longitude",type:"text",hidden:!0}),Object(W.jsx)(I.a,{mt:4,colorScheme:"teal",type:"button",onClick:function(){document.querySelector("#url").click()},children:"Agregar Imagen de la Mascota"}),Object(W.jsx)(T.a,{id:"url",type:"file",name:"url",style:{display:"none"},onChange:function(t){var a=t.target.files[0];e(De(a)).then((function(e){n.values.ur=e}))}}),n.errors.url?Object(W.jsx)("div",{className:"text-danger",children:n.errors.url}):null,Object(W.jsx)(I.a,{mt:4,colorScheme:"teal",type:"submit",mb:2,children:"Actualizar Reporte"})]})})]})},Fe=n(337),He=n(345),Be=n(338),Ue=n(339),Te=(n(308),n(48)),Ve=n.n(Te),$e=0;navigator.geolocation.getCurrentPosition((function(e){$e=[e.coords.latitude,e.coords.longitude]}));var Ge=function(){var e=Object(O.c)((function(e){return e.pets})).pets,t=Ve.a.icon({iconUrl:"https://res.cloudinary.com/dwebgvcn6/image/upload/v1623783382/g48_ulieoq.png"});return Object(W.jsxs)("div",{children:[Object(W.jsx)(V.a,{top:"0",width:"100%",padding:6,height:"60px",backgroundColor:"#33A109",children:Object(W.jsx)(ne.a,{to:"/",as:w.b,children:Object(W.jsx)(K.b,{fontSize:30,color:"white",as:Y.a})})}),Object(W.jsx)("div",{children:Object(W.jsxs)(Fe.a,{center:$e,zoom:15,scrollWheelZoom:!0,children:[Object(W.jsx)(He.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map((function(e){return Object(W.jsx)(Be.a,{icon:t,position:[e.latitude,e.longitude],children:Object(W.jsx)(Ue.a,{position:[e.latitude,e.longitude],children:Object(W.jsxs)("div",{children:[Object(W.jsx)("p",{className:"text-center",children:e.name}),Object(W.jsx)("img",{src:e.url,alt:""}),Object(W.jsx)("small",{children:e.state})]})})},e.id)}))]})})]})};var Je=function(){return Object(W.jsx)(w.a,{children:Object(W.jsxs)(y.d,{children:[Object(W.jsx)(y.b,{exact:!0,path:"/",component:be}),Object(W.jsx)(y.b,{exact:!0,path:"/post",component:We}),Object(W.jsx)(y.b,{exact:!0,path:"/my-pets",component:Ae}),Object(W.jsx)(y.b,{exact:!0,path:"/map",component:Ge}),Object(W.jsx)(y.b,{exact:!0,path:"/detail/:id",component:ge}),Object(W.jsx)(y.b,{exact:!0,path:"/chat",component:ee}),Object(W.jsx)(y.b,{path:"/my-pets/:petName",component:qe})]})})},Ke=function(){var e=Object(a.useState)(!0),t=Object(v.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(v.a)(c,2),i=o[0],s=o[1],l=Object(O.b)();return Object(a.useEffect)((function(){C.a.auth().onAuthStateChanged(function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.uid)?(l(D(t.uid,t.displayName)),l(Se(t.uid)),l(ke(t.uid)),s(!0)):(console.log("Usuario no Registrado"),s(!1)),r(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[l,r]),n?Object(W.jsx)("h2",{children:"Espere por favor"}):Object(W.jsx)(w.a,{children:Object(W.jsx)("div",{children:Object(W.jsxs)(y.d,{children:[Object(W.jsx)(B,{path:"/auth",component:F,isAuthenticated:i}),Object(W.jsx)(U,{exact:!0,path:"/",component:Je,isAuthenticated:i}),Object(W.jsx)(y.a,{to:"/auth/login"})]})})})},Ze=n(340),Xe=Object(Ze.a)({styles:{global:{body:{backgroundColor:"#CFF7C1",color:"#FFFFFE"},a:{textDecoration:"none"}}},colors:{brand:{primary:"#33A109",secondary:"#77D353"}},textStyles:{h1:{fontSize:"32px",fontWeight:800,lineHeight:"56px",letterSpacing:"0.15%"},h2:{fontSize:"48px",fontWeight:700,lineHeight:"58px",letterSpacing:"0.15%"},h3:{fontSize:"37px",fontWeight:700,lineHeight:"37px"},h4:{fontSize:"30px",fontWeight:600,lineHeight:"34px"},h5:{fontSize:"30px",fontWeight:600,lineHeight:"26px"}}}),Ye=function(){return Object(W.jsx)(o.a,{theme:Xe,children:Object(W.jsx)(O.a,{store:x,children:Object(W.jsx)(Ke,{})})})};c.a.render(Object(W.jsx)(Ye,{}),document.getElementById("root"))}},[[309,1,2]]]);
//# sourceMappingURL=main.59dfbbd9.chunk.js.map