(this["webpackJsonpproyecto-final-ag"]=this["webpackJsonpproyecto-final-ag"]||[]).push([[0],{117:function(e,t,n){},210:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(69),o=n.n(c),i=n(342),s=n(87),l=n(164),d=n(6),u={login:"[Auth] Login",logout:"[Auth] Logout",uiSetError:"[ui] Set Error",uiRemoveError:"[ui] Remove Error",uiStartLoading:"[UI] Start Loading",uiFinishLoading:"[UI] Finish Loading",petAddNew:"[Pets] New Pet",petActive:"[Pets] Set Active Pet",petLoad:"[Pets] Load Pets",myPetLoad:"[Pets] Load My Pets",petUpdated:"[Pets] Updated Pet",petFileUrl:"[Pets] Updated Image URL",petDelete:"[Pets] Delete Pet",petLogoutCleaning:"[Pets] Logout Cleaning",petSearchInfo:"[PET] Search Info",petDetail:"[PET] Detail view",petLast:"[PET] Last Doc Pet",petChat:"[PET] user chat",petMessages:"[PET] messages chat"},p={info:[],detail:null,last:null,chat:"",messages:[]},j=n(16),b={pets:[],myPets:[],active:null},h="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,x=Object(s.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.login:return{uid:t.payload.uid,name:t.payload.displayName};case u.logout:return{};default:return e}},pets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.petAddNew:return Object(d.a)(Object(d.a)({},e),{},{pets:[t.payload].concat(Object(j.a)(e.pets))});case u.petLoad:return Object(d.a)(Object(d.a)({},e),{},{pets:Object(j.a)(t.payload)});case u.myPetLoad:return Object(d.a)(Object(d.a)({},e),{},{myPets:Object(j.a)(t.payload)});case u.petDelete:return Object(d.a)(Object(d.a)({},e),{},{pets:e.pets.filter((function(e){return e.id!==t.payload}))});case u.petActive:return Object(d.a)(Object(d.a)({},e),{},{active:Object(d.a)({},t.payload)});case u.petValoracion:return Object(d.a)(Object(d.a)({},e),{},{valoracion:t.payload});case u.petUpdated:return Object(d.a)(Object(d.a)({},e),{},{pets:e.pets.map((function(e){return e.id===t.payload.id?t.payload.pets:e}))});default:return e}},petsInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.petSearchInfo:return Object(d.a)(Object(d.a)({},e),{},{info:t.payload});case u.petDetail:return Object(d.a)(Object(d.a)({},e),{},{detail:t.payload});case u.petLast:return Object(d.a)(Object(d.a)({},e),{},{last:t.payload});case u.petChat:return Object(d.a)(Object(d.a)({},e),{},{chat:t.payload});case u.petMessages:return Object(d.a)(Object(d.a)({},e),{},{messages:t.payload});default:return e}}}),m=Object(s.d)(x,h(Object(s.a)(l.a))),f=n(8),g=n(12),O=n.n(g),v=n(22),w=n(5),y=n(19),C=n(15),S=n(82);n(311),n(194);S.a.initializeApp({apiKey:"AIzaSyCgsrjF18DOmeDBHbd9wBkbxpqRHJu7L-w",authDomain:"bd-find-pet.firebaseapp.com",projectId:"bd-find-pet",storageBucket:"bd-find-pet.appspot.com",messagingSenderId:"649767277617",appId:"1:649767277617:web:09884fa40e950156a8b110"});var k=S.a.firestore(),_=new S.a.auth.GoogleAuthProvider,D=n(45),N=n.n(D),E=function(){return function(){var e=Object(v.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.auth().signOut();case 2:t(R());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=function(e,t){return{type:u.login,payload:{uid:e,displayName:t}}},R=function(){return{type:u.logout}},M=n(323),P=n(324),I=n(325),A=n(344),W=n(343),L=n(177),q=n(167),F=n(2),H=function(){var e=Object(f.b)();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(L.a,{}),Object(F.jsx)(M.a,{height:"100vh",alignItems:"center",justifyContent:"center",background:"#d8f8b7",children:Object(F.jsxs)(M.a,{direction:"column",alignItems:"center",justifyContent:"center",background:"#a3d2ca",p:12,rounded:6,children:[Object(F.jsx)(P.a,{mt:20,mb:25,children:"Log In FindPets"}),Object(F.jsx)(I.a,{children:Object(F.jsx)(A.a,{rounded:100,boxSize:"200px",src:"https://image.freepik.com/vector-gratis/lindo-perro-gato-amigo-caricatura_138676-2432.jpg",alt:"Logo FindPet"})}),Object(F.jsx)(W.a,{leftIcon:Object(F.jsx)(q.a,{}),mt:20,mb:20,colorScheme:"teal",variant:"outline",onClick:function(t){e((function(e){S.a.auth().signInWithPopup(_).then((function(t){var n=t.user;e(z(n.uid,n.displayName))})).catch((function(e){N.a.fire({icon:"error",title:"Error",text:"No seleccion\xf3 ninguna cuenta de Google!",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}})}))}))},children:"Iniciar Sesi\xf3n con Google"})]})})]})},B=function(){return Object(F.jsx)("div",{className:"auth__main",children:Object(F.jsx)("div",{className:"auth__box-container",children:Object(F.jsxs)(C.d,{children:[Object(F.jsx)(C.b,{exact:!0,path:"/auth/login",component:H}),Object(F.jsx)(C.a,{to:"/auth/login"})]})})})},T=n(49),U=function(e){var t=e.isAuthenticated,n=e.component,a=Object(T.a)(e,["isAuthenticated","component"]);return Object(F.jsx)(C.b,Object(d.a)(Object(d.a)({},a),{},{component:function(e){return t?Object(F.jsx)(C.a,{to:"/"}):Object(F.jsx)(n,Object(d.a)({},e))}}))},V=function(e){var t=e.isAuthenticated,n=e.component,a=Object(T.a)(e,["isAuthenticated","component"]);return Object(F.jsx)(C.b,Object(d.a)(Object(d.a)({},a),{},{component:function(e){return t?Object(F.jsx)(n,Object(d.a)({},e)):Object(F.jsx)(C.a,{to:"/auth/login"})}}))},G=n(328),J=n(345),K=function(){var e=Object(v.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,k.collection("Data/pets/pet").orderBy("date").get().then((function(e){e.forEach((function(e){t.push(Object(d.a)({id:e.id},e.data()))}))})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){return{type:u.petSearchInfo,payload:e}},$=function(e){return{type:u.petChat,payload:e}},X=n(327);var Q=function(e){var t=e.message,n=e.previous;return Object(F.jsxs)(M.a,{textAlign:"center",flexDirection:"column",width:"100%",children:[n.state===t.state?null:Object(F.jsx)(X.a,{children:"".concat(new Date(t.timeStamp).getHours(),":").concat(new Date(t.timeStamp).getMinutes()<9?"0"+new Date(t.timeStamp).getMinutes():new Date(t.timeStamp).getMinutes())}),Object(F.jsx)(M.a,{fontWeight:"500",wordBreak:"break-all",maxWidth:"80%",color:"#33A109",borderRadius:"10px",backgroundColor:"white",padding:2,alignSelf:"flex-start",children:t.message})]})};var Y=function(e){var t=e.message,n=e.previous;return Object(F.jsxs)(M.a,{textAlign:"center",flexDirection:"column",width:"100%",children:[n.state===t.state?null:Object(F.jsx)(X.a,{children:"".concat(new Date(t.timeStamp).getHours(),":").concat(new Date(t.timeStamp).getMinutes()<9?"0"+new Date(t.timeStamp).getMinutes():new Date(t.timeStamp).getMinutes())}),Object(F.jsx)(M.a,{maxWidth:"80%",wordBreak:"break-all",color:"white",borderRadius:"10px",backgroundColor:"#33A109",padding:2,alignSelf:"flex-end",children:t.message})]})};var ee=function(){Object(f.b)();var e=Object(f.c)((function(e){return e.petsInfo.chat})),t=Object(f.c)((function(e){return e.auth.uid})),n=Object(f.c)((function(e){return e.auth.name})),r=Object(a.useState)(),c=Object(w.a)(r,2),o=c[0],i=c[1],s=function(e,t){var n=Object(a.useState)(null),r=Object(w.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(!0),s=Object(w.a)(i,2),l=s[0],u=s[1],p=Object(a.useState)([]),j=Object(w.a)(p,2),b=j[0],h=j[1];return Object(a.useEffect)((function(){var n=k.collection("/chat/user/".concat(e,"/").concat(t,"/messages")).orderBy("timeStamp").onSnapshot((function(e){u(!1),h(e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})))}),(function(e){o(e)}));return function(){return n()}}),[h]),{error:c,loading:l,messages:b}}(t,e.id_user),l=(s.loading,s.messages),u=(s.error,function(){var a=Object(v.a)(O.a.mark((function a(r){var c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),""===r.target.previousElementSibling.value.trim()){a.next=14;break}return c={message:o,timeStamp:Date.now(),state:"sent"},r.target.previousElementSibling.value="",window.scrollTo(0,document.body.scrollHeight+4e3),a.next=7,k.doc("/chat/user/".concat(t,"/").concat(e.id_user)).set({displayName:e.displayName,id_user:e.id_user,timeStamp:Date.now(),date:new Date(Date.now()).toLocaleDateString()});case 7:return a.next=9,k.doc("/chat/user/".concat(e.id_user,"/").concat(t)).set({displayName:n,id_user:t,timeStamp:Date.now(),date:new Date(Date.now()).toLocaleDateString()});case 9:return a.next=11,k.collection("/chat/user/".concat(t,"/").concat(e.id_user,"/messages")).add(c);case 11:return c.state="received",a.next=14,k.collection("/chat/user/".concat(e.id_user,"/").concat(t,"/messages")).add(c);case 14:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());return Object(F.jsxs)(J.b,{width:"100%",spacing:4,px:4,pt:4,pb:"120px",minHeight:"80vh",backgroundColor:"brand.secondary",children:[l.map((function(e,t){return"sent"===e.state?Object(F.jsx)(Y,{previous:l[t-1]||{state:"no"},message:e},t):Object(F.jsx)(Q,{previous:l[t-1]||{state:"no"},message:e},t)})),Object(F.jsxs)(J.a,{width:"90%",as:"form",position:"fixed",bottom:"20px",children:[Object(F.jsx)(G.a,{backgroundColor:"white",onChange:function(e){return i(e.target.value)},type:"text",height:"50px",color:"black"}),Object(F.jsx)(W.a,{height:"50px",bgColor:"brand.primary",type:"submit",value:o,onClick:u,children:"Enviar"})]})]})},te=n(330),ne=n(329),ae=n(20);var re=function(){var e=Object(C.g)(),t=Object(f.c)((function(e){return e.petsInfo.chat}));return Object(F.jsxs)(ne.a,{flexDirection:"column",position:"relative",bg:"brand.primary",height:"20vh",children:[Object(F.jsx)(I.a,{backgroundImage:"url('https://www.nicepng.com/png/detail/202-2022264_usuario-annimo-usuario-annimo-user-icon-png-transparent.png')",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",borderRadius:"50%",width:"64px",height:"64px"}),Object(F.jsx)(X.a,{fontWeight:"600",mt:2,color:"white",children:t.displayName}),Object(F.jsx)(te.b,{onClick:function(){return e.push("/chat-messages")},fontSize:"30px",color:"white",position:"absolute",cursor:"pointer",top:"calc(50%-30px)",left:8,as:ae.a})]})};var ce=function(){return Object(F.jsxs)(I.a,{children:[Object(F.jsx)(re,{}),Object(F.jsx)(ee,{})]})};var oe=function(){return Object(F.jsx)(ne.a,{cursor:"pointer",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},height:"40px",width:"40px",borderRadius:"20px",backgroundColor:"black",zIndex:"10",position:"fixed",bottom:"70px",right:"20px",children:Object(F.jsx)(te.b,{color:"white",fontSize:20,as:ae.b})})},ie=n(332),se=(n(117),n(74)),le=n.n(se);var de=function(e){var t=e.pet;return Object(F.jsxs)(I.a,{border:"2px solid #77D353",className:"scene_element scene_element--fadeinup",borderRadius:"6px",boxShadow:"lg",overflow:"hidden",width:"160px",backgroundColor:"#77D353",children:[Object(F.jsx)(A.a,{width:"100%",height:"180px",src:t.url}),Object(F.jsxs)(J.b,{px:"3px",my:"10px",alignItems:"start",children:[Object(F.jsxs)(J.a,{justifyContent:"space-evenly",children:[t.reward&&"Encontrado"!==t.state?Object(F.jsx)(I.a,{width:"max-content",borderRadius:"20px",py:"3px",px:"8px",bgColor:"Desaparecido"===t.state?"yellow.300":"red",fontWeight:"600",color:"white",textDecoration:"none",children:Object(F.jsx)(le.a,{options:{strings:["".concat(t.state),"".concat(t.reward)],autoStart:!0,loop:!0}})}):Object(F.jsx)(X.a,{width:"max-content",borderRadius:"20px",py:"3px",px:"8px",bgColor:"Desaparecido"===t.state?"yellow.300":"#00EAD3",fontWeight:"600",color:"white",textDecoration:"none",children:t.state}),t.reward?Object(F.jsx)(ne.a,{fontWeight:"700",border:"1px solid black",borderRadius:"27px",px:"5px",h:"27px",color:"black",fontSize:"xl",bgColor:"gold",children:"$"}):null]}),Object(F.jsxs)(X.a,{fontSize:"18px",color:"blackAlpha.700",fontWeight:"700",children:["Nombre: ",Object(F.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:t.name})]})]})]})},ue=n(331);var pe=function(){for(var e=Object(f.b)(),t=Object(f.c)((function(e){return e.pets.pets})),n=Object(a.useState)(1),c=Object(w.a)(n,2),o=c[0],i=c[1],s=t.slice(6*(o-1),6*o),l=!1,d=!1,p=Math.ceil(t.length/6),j=[],b=1;b<=p;b++)b===o||b<2||b>p-1||b===o-1||b===o+1?j.push({id:b,ellipsis:!1}):b>1&&b<o&&!l?(j.push({id:b,ellipsis:!0}),l=!0):b<p&&b>o&&!d&&(j.push({id:b,ellipsis:!0}),d=!0);var h=r.a.useState(""),x=Object(w.a)(h,2),m=x[0];return x[1],Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ue.a,{pt:"80px",mb:"10px",templateColumns:"repeat(auto-fill,160px)",gap:"10px",justifyContent:"space-evenly",mt:"20px",width:["100%","90%"],mx:"auto",pb:"20px",children:t.length?s.filter(function(e){return function(t){return t.name.includes(e)||!e}}(m)).map((function(t,n){return Object(F.jsx)(ie.a,{display:"inline-block",_hover:{textDecoration:"none",transform:"scale(1.03)"},textDecoration:"none",as:y.b,to:"/detail/".concat(t.id),onClick:function(){return e({type:u.petDetail,payload:t})},children:Object(F.jsx)(de,{id:n,pet:t})},n)})):null}),Object(F.jsx)(ue.a,{mb:"80px",gap:"5px",width:["100%","90%"],mx:"auto",children:Object(F.jsx)("nav",{className:"navigation",children:Object(F.jsx)("ul",{className:"pagination justify-content-center",children:j.map((function(e){return e.ellipsis?Object(F.jsx)("li",{children:Object(F.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})},e.id):Object(F.jsx)("li",{className:"page-item",children:Object(F.jsx)("a",{href:"/#",className:"page-link",onClick:function(t){return function(e,t){e.preventDefault(),i(t)}(t,e.id)},children:e.id})},e.id)}))})})})]})},je=(n(210),n(168));var be=function(){return Object(F.jsxs)(J.a,{px:"5%",justifyContent:"space-between",bgColor:"brand.primary",zIndex:"20",position:"fixed",bottom:"0",w:"100vw",h:"60px",children:[Object(F.jsx)(y.c,{exact:!0,to:"/post",children:Object(F.jsx)(te.a,{fontSize:"28px",as:ae.h})}),Object(F.jsx)(y.c,{exact:!0,to:"/my-pets",children:Object(F.jsx)(te.a,{fontSize:"28px",as:ae.c})}),Object(F.jsx)(y.c,{exact:!0,to:"/map",children:Object(F.jsx)(te.a,{fontSize:"28px",as:ae.f})}),Object(F.jsx)(y.c,{exact:!0,to:"/chat-messages",children:Object(F.jsx)(te.a,{fontSize:"28px",as:je.a})})]})},he=n(333),xe=n(334),me=n(103),fe=function(){var e=Object(v.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("Data/pets/pet").orderBy("date").get();case 2:return n=e.sent,a=[],n.forEach((function(e){a.push(Object(d.a)({id:e.id},e.data()))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(v.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("Data/pets/pet").where("id_user","==","".concat(t)).get();case 2:return n=e.sent,a=[],n.forEach((function(e){a.push(Object(d.a)({id:e.id},e.data()))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(v.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",""!==t){e.next=7;break}return e.next=4,k.collection("Data/pets/pet").orderBy("date").get();case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,k.collection("Data/pets/pet").where("name","==",t).get();case 9:n=e.sent;case 10:return a=[],n.forEach((function(e){a.push(Object(d.a)({id:e.id},e.data()))})),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(v.a)(O.a.mark((function e(t){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/dwebgvcn6/image/upload",(n=new FormData).append("upload_preset","FindPet"),n.append("file",t),e.prev=4,e.next=7,fetch("https://api.cloudinary.com/v1_1/dwebgvcn6/image/upload",{method:"POST",body:n});case 7:if(!(a=e.sent).ok){e.next=15;break}return e.next=11,a.json();case 11:return r=e.sent,e.abrupt("return",r.secure_url);case 15:return e.next=17,a.json();case 17:throw e.sent;case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(4),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),we=function(e,t){return{type:u.petAddNew,payload:Object(d.a)({id:e},t)}},ye=function(e){return function(){var t=Object(v.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge(e);case 2:a=t.sent,n(Se(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ce=function(e){return function(){var t=Object(v.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe(e);case 2:a=t.sent,n(ke(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Se=function(e){return{type:u.myPetLoad,payload:e}},ke=function(e){return{type:u.petLoad,payload:e}},_e=function(e){return function(){var t=Object(v.a)(O.a.mark((function t(n,a){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N.a.fire({title:"Subiendo Foto...",text:"Por Favor Espere...",allowOutsideClick:!1,onBeforeOpen:function(){N.a.showLoading()}}),t.next=3,ve(e);case 3:return r=t.sent,N.a.close(),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},De=function(e){return{type:u.petDelete,payload:e}};var Ne=function(){var e=Object(f.b)();return Object(F.jsxs)(J.a,{id:"header-main-page",px:"5%",spacing:8,backgroundColor:"#33A109",height:"80px",position:"fixed",zIndex:"20",top:"0",left:"0",right:"0",children:[Object(F.jsx)(te.b,{fontSize:20,color:"white",as:ae.g}),Object(F.jsxs)(he.a,{children:[Object(F.jsx)(xe.a,{pointerEvents:"none",color:"black",children:Object(F.jsx)(ae.i,{})}),Object(F.jsx)(G.a,{id:"search",autoComplete:"off",onChange:function(t){var n=document.getElementById("search").value;e(function(e){return function(){var t=Object(v.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe(e);case 2:a=t.sent,n(ke(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))},type:"text",placeholder:"Mascota",color:"black",backgroundColor:"white"})]}),Object(F.jsx)(te.b,{cursor:"pointer",onClick:function(){e(E())},fontSize:"28px",color:"white",as:me.a})]})};var Ee=function(){var e=Object(a.useRef)(!1),t=Object(f.b)(),n=Object(f.c)((function(e){return e.auth.uid})),r=function(e){document.scrollingElement.scrollTop,document.scrollingElement.scrollHeight,document.scrollingElement.clientHeight};return Object(a.useEffect)((function(){return window.addEventListener("scroll",r),e.current||(t(function(){var e=Object(v.a)(O.a.mark((function e(t,n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:a=e.sent,t(Z(Object(j.a)(a)));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.current=!0),function(){window.removeEventListener("scroll",r)}}),[n]),Object(F.jsxs)(I.a,{children:[Object(F.jsx)(Ne,{}),Object(F.jsx)(be,{}),Object(F.jsx)(pe,{}),Object(F.jsx)(oe,{})]})};var ze=function(){var e=Object(f.c)((function(e){return e.petsInfo.detail})),t=Object(C.g)();return Object(F.jsx)(I.a,{display:"flex",width:["100vw","100vw","60vw"],position:"relative",backgroundImage:"url(".concat(e.url,")"),height:["50vh","50vh","100vh"],backgroundPosition:"center",backgroundRepeat:"repeat",backgroundSize:"cover",children:Object(F.jsx)(ne.a,{onClick:function(){return t.goBack()},cursor:"pointer",boxSize:10,borderRadius:"50%",backgroundColor:"#33A109",position:"absolute",top:"20px",left:"20px",children:Object(F.jsx)(te.b,{color:"white",as:ae.a})})})};var Re=function(){Object(C.g)();var e=Object(f.b)(),t=Object(f.c)((function(e){return e.petsInfo.detail})),n=Object(f.c)((function(e){return e.auth.uid}));return Object(F.jsxs)(I.a,{position:"relative",width:["100vw","100vw","40vw"],children:[Object(F.jsx)(I.a,{position:"absolute",display:["block","block","none"],top:"-12",right:"0",w:"100vw",dangerouslySetInnerHTML:{__html:'<div style="height: 80px; overflow: hidden;" ><svg viewBox="0 0 500 150" preserveAspectRatio="none" style="height: 100%; width: 100%;"><path d="M0.00,49.98 C149.99,150.00 349.20,-49.98 500.00,49.98 L500.00,150.00 L0.00,150.00 Z" style="stroke: none; fill: #77D353;"></path></svg></div>'},height:"150px",overflow:"hidden"}),Object(F.jsx)(I.a,{position:"absolute",display:["none","none","block"],right:["0","0","180","280"],w:["40vw","40vw","40vw","40vw"],dangerouslySetInnerHTML:{__html:'<div style="height: 100vh; overflow: hidden;" ><svg viewBox="0 0 500 150" preserveAspectRatio="none" style="height: 100%; width: 100%;"><path d="M213.19,0.00 C152.69,70.06 270.03,70.06 202.98,150.00 L500.00,150.00 L500.00,0.00 Z" style="stroke: none; fill: #77D353;"></path></svg></div>'},overflow:"hidden"}),Object(F.jsxs)(I.a,{px:6,pb:"70px",position:"relative",minHeight:["50vh","50vh","100vh"],backgroundColor:"#77D353",children:[Object(F.jsx)(W.a,{onClick:function(){return function(){var e=document.createElement("input");e.setAttribute("value",window.location.href.split("?")[0].split("#")[0]),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}()},position:"absolute",display:"none",top:"-10px",right:"20px",color:"white",backgroundColor:"#33A109",rightIcon:Object(F.jsx)(ae.j,{color:"white"}),children:"Compartir"}),Object(F.jsxs)(J.b,{alignItems:"start",children:[Object(F.jsxs)(J.a,{mt:"10px",mb:"20px",justifyContent:"space-between",children:[Object(F.jsx)(I.a,{fontWeight:"600",borderRadius:"34px",px:"10px",h:"34px",fontSize:"xl",bgColor:"Desaparecido"===t.state?"yellow.300":"#00EAD3",color:"white",children:t.state}),t.reward?Object(F.jsx)(ne.a,{fontWeight:"700",border:"3px solid black",borderRadius:"34px",px:"10px",h:"34px",color:"black",fontSize:"xl",bgColor:"gold",children:"$ Recompensa"}):null]}),Object(F.jsxs)(X.a,{fontSize:"2xl",color:"brand.title",fontWeight:"700",children:["Nombre: ",Object(F.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:t.name})]}),Object(F.jsxs)(X.a,{fontSize:"2xl",color:"brand.title",fontWeight:"700",children:["Edad: ",Object(F.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:"".concat(t.age," a\xf1os")})]}),Object(F.jsxs)(X.a,{fontSize:"2xl",color:"brand.title",fontWeight:"700",children:["Color: ",Object(F.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:t.color})]}),Object(F.jsxs)(X.a,{fontSize:"2xl",color:"brand.title",fontWeight:"700",children:["Descripci\xf3n: ",Object(F.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:t.desc_pet})]}),t.reward?Object(F.jsxs)(I.a,{children:[Object(F.jsxs)(X.a,{fontSize:"2xl",color:"brand.title",fontWeight:"700",children:["Recompensa: ",Object(F.jsx)(X.a,{color:"black",fontWeight:"00",as:"span",children:"$ ".concat(t.reward)})]}),Object(F.jsxs)(X.a,{fontSize:"2xl",color:"brand.title",fontWeight:"700",children:["Detalles: ",Object(F.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:t.desc_reward})]})]}):null]}),n===t.id_user?Object(F.jsx)(J.a,{justifyContent:"center",bgColor:"#77D353",height:"60px",position:["fixed","fixed","absolute"],bottom:"0",left:"0",right:"0",px:"20px",mt:4,children:Object(F.jsx)(X.a,{fontSize:"2xl",color:"brand.title",fontWeight:"600",children:"Tu mascota"})}):Object(F.jsxs)(J.a,{bgColor:"#77D353",height:"60px",position:["fixed","fixed","absolute"],bottom:"0",left:"0",right:"0",px:"20px",justifyContent:"space-between",mt:4,children:[Object(F.jsxs)(X.a,{fontSize:"2xl",color:"brand.title",fontWeight:"700",children:["Due\xf1o: ",Object(F.jsx)(X.a,{color:"white",fontWeight:"400",as:"span",children:t.displayName})]}),Object(F.jsx)(ie.a,{to:"/chat",as:y.b,children:Object(F.jsx)(W.a,{color:"white",backgroundColor:"#121311",onClick:function(){e($(t))},children:"Contactar"})})]})]})]})};var Me=function(){return window.scrollTo({top:0,behavior:"smooth"}),Object(F.jsxs)(I.a,{className:"scene_element scene_element--clippathdown",display:["block","block","flex"],flexDirection:["column","column","row"],children:[Object(F.jsx)(ze,{}),Object(F.jsx)(Re,{})]})};var Pe=function(){return Object(F.jsxs)(J.a,{justifyContent:"center",position:"fixed",zIndex:"100",top:"0",width:"100%",padding:6,height:"60px",backgroundColor:"brand.primary",children:[Object(F.jsx)(ie.a,{position:"absolute",left:"20px",to:"/",as:y.b,children:Object(F.jsx)(te.b,{fontSize:30,color:"white",as:ae.e})}),Object(F.jsx)(X.a,{fontWeight:"600",fontSize:"2xl",children:"FindPets"})]})},Ie=n(335);var Ae=function(){for(var e=Object(f.b)(),t=Object(f.c)((function(e){return e.pets})).myPets,n=Object(a.useState)(1),r=Object(w.a)(n,2),c=r[0],o=r[1],i=t.slice(4*(c-1),4*c),s=!1,l=!1,p=Math.ceil(t.length/4),j=[],b=1;b<=p;b++)b===c||b<2||b>p-1||b===c-1||b===c+1?j.push({id:b,ellipsis:!1}):b>1&&b<c&&!s?(j.push({id:b,ellipsis:!0}),s=!0):b<p&&b>c&&!l&&(j.push({id:b,ellipsis:!0}),l=!0);var h=function(t,n){e(function(e){return function(){var t=Object(v.a)(O.a.mark((function t(n,a){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.uid,t.next=3,k.doc("Data/pets/pet/".concat(e)).delete();case 3:n(De(e)),N.a.fire({position:"center",icon:"success",title:"Registro Eliminado",showConfirmButton:!1,timer:1500}),n(Ce(r)),n(ye(r));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(n))},x=function(t,n){var a,r;e((a=n.id,r=Object(d.a)({},n),{type:u.petActive,payload:Object(d.a)({id:a},r)}))};return Object(F.jsxs)(I.a,{minHeight:"100vh",backgroundColor:"#77D353",className:"scene_element scene_element--fadeinright",children:[Object(F.jsx)(Pe,{}),Object(F.jsx)(ne.a,{flexDirection:"column",pt:"10px",minHeight:"93vh",children:Object(F.jsxs)("div",{className:"lista-peliculas col-md-8 mx-auto text-center",children:[Object(F.jsx)(Ie.a,{}),Object(F.jsx)(I.a,{textStyle:"h1",children:Object(F.jsx)(le.a,{options:{strings:["Administrar Mascotas Reportadas"],autoStart:!0,loop:!0}})}),Object(F.jsx)(Ie.a,{}),Object(F.jsxs)("table",{className:"table mt-5",children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Nombre"}),Object(F.jsx)("th",{children:"Estado"}),Object(F.jsx)("th",{children:"Imagen"}),Object(F.jsx)("th",{children:"Acciones"})]})}),Object(F.jsx)("tbody",{children:i.map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{valign:"middle",children:e.name}),Object(F.jsx)("td",{valign:"middle",children:e.state}),Object(F.jsx)("td",{valign:"middle",children:Object(F.jsx)("img",{src:e.url,alt:"Img",style:{height:"70px"}})}),Object(F.jsx)("td",{valign:"middle",children:Object(F.jsxs)("div",{className:"col",children:[Object(F.jsx)("span",{className:"btn btn-danger me-2","aria-hidden":"true",onClick:function(t){h(0,e.id)},style:{cursor:"pointer"},children:"\xd7"}),Object(F.jsx)(y.b,{to:"/my-pets/".concat(e.name),children:Object(F.jsx)("span",{className:"btn btn-primary","aria-hidden":"true",onClick:function(t){x(0,e)},style:{cursor:"pointer"},children:Object(F.jsx)(ae.d,{})})})]})})]},e.id)}))})]}),Object(F.jsx)("nav",{className:"navigation",children:Object(F.jsx)("ul",{className:"pagination justify-content-center",children:j.map((function(e){return e.ellipsis?Object(F.jsx)("li",{children:Object(F.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})},e.id):Object(F.jsx)("li",{className:"page-item",children:Object(F.jsx)("a",{href:"/#",className:"page-link",onClick:function(t){return function(e,t){e.preventDefault(),o(t)}(t,e.id)},children:e.id})},e.id)}))})})]})})]})},We=n(337),Le=n(85),qe=n(336),Fe=n(111),He=n(30);var Be=function(){var e=Object(f.b)(),t=Object(C.g)(),n=Object(f.c)((function(e){return e.auth})).name;console.log(n);var a=Object(Fe.a)({initialValues:{name:"",age:"",color:"",reward:"",desc_reward:"",desc_pet:"",latitude:"",longitude:"",url_pet:"",displayName:n},validationSchema:He.b({name:He.c().required("Nombre Requerido"),age:He.a().required("Edad Requerida"),color:He.c().required("Color Requerido"),desc_pet:He.c().required("Desdcripci\xf3n de la Mascota Requerida"),latitude:He.c().required("Por favor presione Obtener Ubicacion"),url_pet:He.c().required("Por favor cargue una imagen de la mascota")}),onSubmit:function(t){var n;e((n=t,function(){var e=Object(v.a)(O.a.mark((function e(t,a){var r,c,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.uid,c={name:n.name,age:n.age,color:n.color,reward:n.reward,desc_reward:n.desc_reward,desc_pet:n.desc_pet,latitude:n.latitude,longitude:n.longitude,url:n.url_pet,id_user:r,state:"Desaparecido",date:(new Date).getTime(),displayName:n.displayName},e.next=4,k.collection("Data/pets/pet").add(c);case 4:o=e.sent,t(ye(r)),t(Ce(r)),t(we(o.id,c));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),N.a.fire({position:"center",icon:"success",title:"Se ha reportado la mascota",showConfirmButton:!1,allowEscapeKey:!1,allowOutsideClick:!1,timer:1500}),a.handleReset(),setTimeout(r,2e3)}}),r=function(){t.push("/")};return Object(F.jsx)(I.a,{pt:"60px",className:"scene_element scene_element--fadeinright",children:Object(F.jsx)(I.a,{as:"form",onSubmit:a.handleSubmit,children:Object(F.jsxs)(ne.a,{flexDirection:"column",pt:"10px",px:6,backgroundColor:"#77D353",minHeight:"100vh",children:[Object(F.jsx)(Ie.a,{}),Object(F.jsx)(I.a,{textStyle:"h1",children:Object(F.jsx)(le.a,{options:{strings:["Reportar Mascota"],autoStart:!0,loop:!0}})}),Object(F.jsx)(Ie.a,{}),Object(F.jsxs)(Le.a,{mt:4,children:[Object(F.jsx)(qe.a,{children:"Nombre de la Mascota"}),Object(F.jsx)(G.a,{type:"text",placeholder:"Nombre de la Mascota",borderColor:"brand.primary",_placeholder:{color:"brand.primary"},name:"name",id:"name",value:a.values.name,onChange:a.handleChange}),a.errors.name?Object(F.jsx)("div",{className:"text-danger",children:a.errors.name}):null]}),Object(F.jsxs)(Le.a,{children:[Object(F.jsx)(qe.a,{children:"Edad de la Mascota"}),Object(F.jsx)(G.a,{type:"number",borderColor:"brand.primary",_placeholder:{color:"brand.primary"},placeholder:"Edad de la Mascota",name:"age",id:"age",value:a.values.age,onChange:a.handleChange}),a.errors.age?Object(F.jsx)("div",{className:"text-danger",children:a.errors.age}):null]}),Object(F.jsxs)(Le.a,{children:[Object(F.jsx)(qe.a,{children:"Color de la Mascota"}),Object(F.jsx)(G.a,{type:"text",placeholder:"Color de la Mascota",borderColor:"brand.primary",_placeholder:{color:"brand.primary"},name:"color",id:"color",value:a.values.color,onChange:a.handleChange}),a.errors.color?Object(F.jsx)("div",{className:"text-danger",children:a.errors.color}):null]}),Object(F.jsxs)(Le.a,{className:"mb-4",children:[Object(F.jsx)(qe.a,{children:"Recompensa"}),Object(F.jsx)(G.a,{type:"number",placeholder:"Valor Recompensa",borderColor:"brand.primary",_placeholder:{color:"brand.primary"},name:"reward",id:"reward",value:a.values.reward,onChange:a.handleChange})]}),Object(F.jsx)(We.a,{className:"mb-4",height:"150px",id:"desc_reward",name:"desc_reward",backgroundColor:"white",color:"black",placeholder:"Descripci\xf3n de la Recompensa",value:a.values.desc_reward,onChange:a.handleChange}),Object(F.jsx)(We.a,{height:"300px",id:"desc_pet",name:"desc_pet",backgroundColor:"white",color:"black",placeholder:"Descripci\xf3n de la Mascota",value:a.values.desc_pet,onChange:a.handleChange}),a.errors.desc_pet?Object(F.jsx)("div",{className:"text-danger",children:a.errors.desc_pet}):null,Object(F.jsx)(W.a,{mt:4,_hover:{bgColor:"brand.primary"},bgColor:"brand.primary",type:"button",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,n=e.coords.longitude;a.values.latitude=t,a.values.longitude=n}))},children:"Obtener Mi Ubicacion"}),a.errors.latitude?Object(F.jsx)("div",{className:"text-danger",children:a.errors.latitude}):null,Object(F.jsx)(G.a,{name:"latitude",id:"latitude",type:"text",hidden:!0}),Object(F.jsx)(G.a,{name:"longitude",id:"longitude",type:"text",hidden:!0}),Object(F.jsx)(W.a,{mt:4,_hover:{bgColor:"brand.primary"},bgColor:"brand.primary",type:"button",onClick:function(){document.querySelector("#url_pet").click()},children:"Agregar Imagen de la Mascota"}),Object(F.jsx)(G.a,{id:"url_pet",type:"file",name:"url_pet",style:{display:"none"},onChange:function(t){var n=t.target.files[0];e(_e(n)).then((function(e){a.values.url_pet=e}))}}),a.errors.url_pet?Object(F.jsx)("div",{className:"text-danger",children:a.errors.url_pet}):null,Object(F.jsx)(W.a,{mt:4,_hover:{bgColor:"brand.title"},bgColor:"brand.primary",type:"submit",mb:2,children:"Reportar Mascota"})]})})})};var Te=function(){return Object(F.jsxs)(I.a,{children:[Object(F.jsx)(Pe,{}),Object(F.jsx)(Be,{})]})};var Ue=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.pets})).active,n=(Object(C.g)(),Object(Fe.a)({initialValues:{id:t.id,name:t.name,age:t.age,color:t.color,reward:t.reward,desc_reward:t.desc_reward,desc_pet:t.desc_pet,latitude:t.latitude,longitude:t.longitude,url:t.url,state:t.state},validationSchema:He.b({name:He.c().required("Nombre Requerido"),age:He.a().required("Edad Requerida"),color:He.c().required("Color Requerido"),desc_pet:He.c().required("Desdcripci\xf3n de la Mascota Requerida"),state:He.c().required("Estado de la Mascota Requerido"),latitude:He.c().required("Por favor presione Obtener Ubicacion"),url:He.c().required("Por favor cargue una imagen de la mascota")}),onSubmit:function(t){var n;e((n=t,function(){var e=Object(v.a)(O.a.mark((function e(t,a){var r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.uid,delete(c=Object(d.a)({},n)).id,e.next=5,k.doc("Data/pets/pet/".concat(n.id)).update(c);case 5:t(Ce(r)),t(ye(r));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),N.a.fire({position:"center",icon:"success",title:"Reporte Actualizado",showConfirmButton:!1,allowEscapeKey:!1,allowOutsideClick:!1,timer:1500})}}));return Object(F.jsxs)("div",{className:"scene_element scene_element--fadeinup",children:[Object(F.jsx)(J.a,{top:"0",width:"100%",padding:6,height:"60px",backgroundColor:"#33A109",children:Object(F.jsx)(ie.a,{to:"/my-pets",as:y.b,children:Object(F.jsx)(te.b,{fontSize:30,color:"white",as:ae.a})})}),Object(F.jsx)("form",{onSubmit:n.handleSubmit,children:Object(F.jsxs)(ne.a,{flexDirection:"column",pt:"10px",px:6,backgroundColor:"#77D353",minHeight:"100vh",children:[Object(F.jsxs)(Le.a,{children:[Object(F.jsx)(qe.a,{children:"Nombre de la Mascota"}),Object(F.jsx)(G.a,{type:"text",placeholder:"Nombre de la Mascota",name:"name",id:"name",value:n.values.name,onChange:n.handleChange}),n.errors.name?Object(F.jsx)("div",{className:"text-danger",children:n.errors.name}):null]}),Object(F.jsxs)(Le.a,{children:[Object(F.jsx)(qe.a,{children:"Edad de la Mascota"}),Object(F.jsx)(G.a,{type:"number",placeholder:"Edad de la Mascota",name:"age",id:"age",value:n.values.age,onChange:n.handleChange}),n.errors.age?Object(F.jsx)("div",{className:"text-danger",children:n.errors.age}):null]}),Object(F.jsxs)(Le.a,{children:[Object(F.jsx)(qe.a,{children:"Color de la Mascota"}),Object(F.jsx)(G.a,{type:"text",placeholder:"Color de la Mascota",name:"color",id:"color",value:n.values.color,onChange:n.handleChange}),n.errors.color?Object(F.jsx)("div",{className:"text-danger",children:n.errors.color}):null]}),Object(F.jsx)(Le.a,{children:n.errors.state?Object(F.jsx)("div",{className:"text-danger",children:n.errors.state}):null}),Object(F.jsxs)(W.a,{mt:4,colorScheme:"teal",type:"button",onClick:function(){"Desaparecido"===n.values.state?n.values.state="Encontrado":n.values.state="Desaparecido"},children:["Cambiar Estado a ","Desaparecido"===n.values.state?"Encontrado":"Desaparecido"]}),Object(F.jsxs)(Le.a,{className:"mb-4",children:[Object(F.jsx)(qe.a,{children:"Recompensa"}),Object(F.jsx)(G.a,{type:"number",placeholder:"Valor Recompensa",name:"reward",id:"reward",value:n.values.reward,onChange:n.handleChange})]}),Object(F.jsx)(We.a,{className:"mb-4",height:"150px",id:"desc_reward",name:"desc_reward",backgroundColor:"white",color:"black",placeholder:"Descripci\xf3n de la Recompensa",value:n.values.desc_reward,onChange:n.handleChange}),Object(F.jsx)(We.a,{height:"300px",id:"desc_pet",name:"desc_pet",backgroundColor:"white",color:"black",placeholder:"Descripci\xf3n de la Mascota",value:n.values.desc_pet,onChange:n.handleChange}),n.errors.desc_pet?Object(F.jsx)("div",{className:"text-danger",children:n.errors.desc_pet}):null,Object(F.jsx)(W.a,{mt:4,colorScheme:"teal",type:"button",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;n.values.latitude=t,n.values.longitude=a}))},children:"Obtener Mi Ubicacion"}),n.errors.latitude?Object(F.jsx)("div",{className:"text-danger",children:n.errors.latitude}):null,Object(F.jsx)(G.a,{name:"latitude",id:"latitude",type:"text",hidden:!0}),Object(F.jsx)(G.a,{name:"longitude",id:"longitude",type:"text",hidden:!0}),Object(F.jsx)(W.a,{mt:4,colorScheme:"teal",type:"button",onClick:function(){document.querySelector("#url").click()},children:"Agregar Imagen de la Mascota"}),Object(F.jsx)(G.a,{id:"url",type:"file",name:"url",style:{display:"none"},onChange:function(t){var a=t.target.files[0];e(_e(a)).then((function(e){n.values.url=e}))}}),n.errors.url?Object(F.jsx)("div",{className:"text-danger",children:n.errors.url}):null,Object(F.jsx)(W.a,{mt:4,colorScheme:"teal",type:"submit",mb:2,children:"Actualizar Reporte"})]})})]})},Ve=n(338),Ge=n(346),Je=n(339),Ke=n(340),Ze=(n(309),n(48)),$e=n.n(Ze),Xe=0;navigator.geolocation.getCurrentPosition((function(e){Xe=[e.coords.latitude,e.coords.longitude]}));var Qe=function(){var e=Object(f.c)((function(e){return e.pets})).pets,t=$e.a.icon({iconUrl:"https://res.cloudinary.com/dwebgvcn6/image/upload/v1623783382/g48_ulieoq.png"});return Object(F.jsxs)(I.a,{children:[Object(F.jsxs)(J.a,{justifyContent:"center",position:"relative",width:"100%",padding:6,height:"60px",backgroundColor:"#33A109",children:[Object(F.jsx)(ie.a,{position:"absolute",left:"20px",to:"/",as:y.b,children:Object(F.jsx)(te.b,{fontSize:30,color:"white",as:ae.a})}),Object(F.jsx)(X.a,{fontWeight:"600",fontSize:"2xl",children:"FindPets"})]}),Object(F.jsx)(I.a,{children:Object(F.jsxs)(Ve.a,{center:Xe,zoom:15,scrollWheelZoom:!0,children:[Object(F.jsx)(Ge.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map((function(e){return Object(F.jsx)(Je.a,{icon:t,position:[e.latitude,e.longitude],children:Object(F.jsx)(Ke.a,{position:[e.latitude,e.longitude],children:Object(F.jsxs)("div",{children:[Object(F.jsx)("p",{className:"text-center",children:e.name}),Object(F.jsx)("img",{src:e.url,alt:""}),Object(F.jsx)("small",{children:e.state})]})})},e.id)}))]})})]})},Ye=function(e){var t=e.message,n=Object(f.b)(),a=Object(C.g)();return Object(F.jsxs)(J.a,{cursor:"pointer",onClick:function(){n($(t)),a.push("/chat")},spacing:"20px",mb:"10px",p:"10px",h:"100px",borderRadius:"20px",maxWidth:"98%",mx:"auto",bgColor:"brand.primary",children:[Object(F.jsx)(I.a,{width:"70px",flexShrink:"0",overflow:"hidden",borderRadius:"35px",children:Object(F.jsx)(A.b,{maxWidth:"100%",src:"https://i.pinimg.com/280x280_RS/2e/45/66/2e4566fd829bcf9eb11ccdb5f252b02f.jpg"})}),Object(F.jsxs)(J.a,{pr:"10px",width:"100%",justifyContent:"space-between",children:[Object(F.jsxs)(J.b,{alignItems:"start",children:[Object(F.jsx)(X.a,{fontWeight:"600",fontSize:"xl",children:t.displayName}),Object(F.jsx)(X.a,{children:new Date(t.timeStamp).toLocaleDateString()})]}),Object(F.jsx)(X.a,{children:"".concat(new Date(t.timeStamp).getHours(),":").concat(new Date(t.timeStamp).getMinutes()<9?"0"+new Date(t.timeStamp).getMinutes():new Date(t.timeStamp).getMinutes())})]})]})},et=function(){var e=Object(f.b)(),t=Object(C.g)(),n=Object(f.c)((function(e){return e.petsInfo.messages}));return Object(F.jsxs)(I.a,{children:[Object(F.jsx)(I.a,{mb:"20px",children:Object(F.jsx)(X.a,{fontWeight:"600",fontSize:"2xl",color:"brand.title",children:"Chats"})}),n.length?n.map((function(n){return Object(F.jsx)(Ye,{message:n,onClick:function(){e($(n.id)),t.push("/chat")}},n.id)})):Object(F.jsx)(X.a,{fontSize:"xl",color:"brand.title",children:"No tienes mensajes"})]})};var tt=function(){var e=Object(f.b)(),t=Object(C.g)();return Object(F.jsxs)(J.a,{id:"header-main-page",px:"5%",justifyContent:"space-between",backgroundColor:"#33A109",height:"80px",position:"fixed",zIndex:"20",top:"0",left:"0",right:"0",children:[Object(F.jsx)(te.b,{cursor:"pointer",onClick:function(){return t.goBack()},fontSize:24,color:"white",as:ae.e}),Object(F.jsx)(X.a,{fontWeight:"600",fontSize:"2xl",children:"FindPets"}),Object(F.jsx)(te.b,{onClick:function(){e(E())},cursor:"pointer",fontSize:"28px",color:"white",as:me.a})]})},nt=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.auth.uid}));return Object(a.useEffect)((function(){var n=[];k.collection("chat/user/".concat(t)).orderBy("timeStamp","desc").onSnapshot((function(t){t.forEach((function(e){n.push(Object(d.a)({id:e.id},e.data()))})),e(function(e){return{type:u.petMessages,payload:e}}(n))}))}),[]),Object(F.jsxs)(I.a,{px:"5%",pt:"100px",children:[Object(F.jsx)(tt,{}),Object(F.jsx)(et,{})]})};var at=function(){return Object(F.jsx)(y.a,{children:Object(F.jsxs)(C.d,{children:[Object(F.jsx)(C.b,{exact:!0,path:"/",component:Ee}),Object(F.jsx)(C.b,{exact:!0,path:"/post",component:Te}),Object(F.jsx)(C.b,{exact:!0,path:"/my-pets",component:Ae}),Object(F.jsx)(C.b,{exact:!0,path:"/map",component:Qe}),Object(F.jsx)(C.b,{exact:!0,path:"/detail/:id",component:Me}),Object(F.jsx)(C.b,{exact:!0,path:"/chat",component:ce}),Object(F.jsx)(C.b,{exact:!0,path:"/chat-messages",component:nt}),Object(F.jsx)(C.b,{path:"/my-pets/:petName",component:Ue})]})})},rt=function(){var e=Object(a.useState)(!0),t=Object(w.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(w.a)(c,2),i=o[0],s=o[1],l=Object(f.b)();return Object(a.useEffect)((function(){S.a.auth().onAuthStateChanged(function(){var e=Object(v.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.uid)?(l(z(t.uid,t.displayName)),l(Ce(t.uid)),l(ye(t.uid)),s(!0)):(console.log("Usuario no Registrado"),s(!1)),r(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[l,r]),n?Object(F.jsx)("h2",{children:"Espere por favor"}):Object(F.jsx)(y.a,{children:Object(F.jsx)("div",{children:Object(F.jsxs)(C.d,{children:[Object(F.jsx)(U,{path:"/auth",component:B,isAuthenticated:i}),Object(F.jsx)(V,{exact:!0,path:"/",component:at,isAuthenticated:i}),Object(F.jsx)(C.a,{to:"/auth/login"})]})})})},ct=n(341),ot=Object(ct.a)({styles:{global:{body:{backgroundColor:"#CFF7C1",color:"#FFFFFE"},a:{textDecoration:"none"}}},colors:{brand:{primary:"#33A109",secondary:"#77D353",title:"#244e14"}},textStyles:{h1:{fontSize:"32px",fontWeight:800,lineHeight:"56px",letterSpacing:"0.15%"},h2:{fontSize:"48px",fontWeight:700,lineHeight:"58px",letterSpacing:"0.15%"},h3:{fontSize:"37px",fontWeight:700,lineHeight:"37px"},h4:{fontSize:"30px",fontWeight:600,lineHeight:"34px"},h5:{fontSize:"30px",fontWeight:600,lineHeight:"26px"}}}),it=function(){return Object(F.jsx)(i.a,{theme:ot,children:Object(F.jsx)(f.a,{store:m,children:Object(F.jsx)(rt,{})})})};o.a.render(Object(F.jsx)(it,{}),document.getElementById("root"))}},[[310,1,2]]]);
//# sourceMappingURL=main.d82a29dc.chunk.js.map